---
export interface Props {
	type?: "submit" | "button";
	variant?: "primary" | "secondary";
	disabled?: boolean;
	loading?: boolean;
	class?: string;
}

const {
	type = "submit",
	variant = "primary",
	disabled = false,
	loading = false,
	class: className = "",
} = Astro.props;

const baseClasses =
	"w-full px-6 py-3 rounded-md font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed";

const variantClasses = {
	primary: "bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500",
	secondary: "bg-gray-200 text-gray-900 hover:bg-gray-300 focus:ring-gray-500",
};
---

<button
	type={type}
	disabled={disabled || loading}
	class={`${baseClasses} ${variantClasses[variant]} ${className}`}
	aria-describedby="submit-description"
>
	{
		loading && (
			<span
				class="inline-block w-4 h-4 mr-2 border-2 border-white border-t-transparent rounded-full animate-spin"
				aria-hidden="true"
			/>
		)
	}
	<slot />
</button>
