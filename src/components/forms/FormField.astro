---
export interface Props {
	label: string;
	required?: boolean;
	description?: string;
	error?: string;
	class?: string;
}

const {
	label,
	required = false,
	description,
	error,
	class: className = "",
} = Astro.props;

const id = `field-${Math.random().toString(36).substr(2, 9)}`;
---

<div class={`space-y-2 ${className}`}>
	<label for={id} class="block text-sm font-medium text-gray-700">
		{label}
		{
			required && (
				<span class="text-red-500 ml-1" aria-label="必須">
					*
				</span>
			)
		}
	</label>

	{description && <p class="text-sm text-gray-500">{description}</p>}

	<div class="relative">
		<slot name="input" {id} />
	</div>

	{
		error && (
			<p class="text-sm text-red-600" role="alert" aria-live="polite">
				{error}
			</p>
		)
	}
</div>
