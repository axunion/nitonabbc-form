import { FormContainer, FormField, RecaptchaNotice } from "@/components/forms/";
import { RadioGroup, SubmitButton, TextArea } from "@/components/ui/";
import { useForm } from "@/hooks/useForm";

const initialFormData = {
	type: "{{FORM_TYPE}}",
	overallSatisfaction: "",
	programSatisfaction: "",
	venueSatisfaction: "",
	feedback: "",
	additionalComments: "",
};

const satisfactionOptions = [
	{ label: "非常に満足", value: "非常に満足" },
	{ label: "満足", value: "満足" },
	{ label: "普通", value: "普通" },
	{ label: "不満", value: "不満" },
	{ label: "非常に不満", value: "非常に不満" },
];

export default function SurveyForm() {
	const {
		bindInput,
		bindChange,
		isSubmitting,
		submissionState,
		handleSubmit,
	} = useForm(initialFormData);

	return (
		<FormContainer
			isSubmitting={isSubmitting}
			submissionState={submissionState}
			type={initialFormData.type}
			expiredMessage="このアンケートは終了しています。"
			successTitle="送信が完了しました"
			successMessage="ご協力ありがとうございます。"
		>
			<form
				onSubmit={handleSubmit}
				class="space-y-2 animate-[fadeIn_0.3s_ease-out]"
			>
				<FormField label="全体的な満足度はいかがでしたか？" required>
					<RadioGroup
						options={satisfactionOptions}
						required
						{...bindChange("overallSatisfaction")}
					/>
				</FormField>

				<FormField label="プログラムの内容はいかがでしたか？" required>
					<RadioGroup
						options={satisfactionOptions}
						required
						{...bindChange("programSatisfaction")}
					/>
				</FormField>

				<FormField label="会場はいかがでしたか？" required>
					<RadioGroup
						options={satisfactionOptions}
						required
						{...bindChange("venueSatisfaction")}
					/>
				</FormField>

				<FormField label="改善してほしい点やご要望がありましたらご記入ください。">
					<TextArea maxlength="1024" {...bindInput("feedback")} />
				</FormField>

				<FormField label="その他のご意見や感想がありましたらご記入ください。">
					<TextArea maxlength="1024" {...bindInput("additionalComments")} />
				</FormField>

				<RecaptchaNotice />

				<SubmitButton>送信する</SubmitButton>
			</form>
		</FormContainer>
	);
}
